{% extends 'layouts/base.html' %}

{% block title %} Dashboard {% endblock title %}

<!-- Specific CSS goes HERE -->
{% block stylesheets %}
<link rel="stylesheet" href="/static/assets/css/perfil_docente.css">
{% endblock stylesheets %}

{% block content %}

<!-- Page content -->
<div class="container-fluid">
  <div class="perfil row mt-2">
    <div class="espacioFotoPerfil card bg-transparent col-12 col-md-5" style="height: 100%;">
      <div class="card-body">
        <div class="fotoPerfil">
          {% if docente.personal.user.nombre == Null %}
          <img src="/media/{{docente.user.fotoDePerfil}}" alt="FotoPerfil" class="image-fluid">
          {% else %}
          <img src="/media/{{docente.personal.user.fotoDePerfil}}" alt="FotoPerfil" class="image-fluid">
          {% endif %}
        </div>
      </div>
    </div>
    <div class="infoPerfil d-flex flex-column justify-content-center col-12 col-md-7 mt-1">
      <div class="espacioDatosGenerales">
        <div class="titulo">
          <h3>Datos generales</h3>
        </div>
        <div class="datos p-2">
          <div class="nombreDocente row col-12">
            <p class="campo col-sm-6">Nombre:</p>
            {% if docente.personal.user.nombre == Null %}
            <p class="campoNombreDocente col-sm-6">{{docente.user.nombre}}</p>
            {% else %}
            <p class="campoNombreDocente col-sm-6">{{docente.personal.user.nombre}}</p>
            {% endif %}
          </div>
          <div class="nombreApellidos row col-12">
            <p class="campo col-sm-6">Apellido:</p>
            {% if docente.personal.user.nombre == Null %}
            <p class="nombreApellidos col-sm-6">{{docente.user.aPaterno}} {{docente.user.aMaterno}}
              {% else %}
            <p class="nombreApellidos col-sm-6">{{docente.personal.user.aPaterno}} {{docente.personal.user.aMaterno}}
              {% endif %}
            </p>
          </div>
          <div class="generoDocente row col-12">
            <p class="campo col-sm-6">Género:</p>
            {% if docente.personal.user.nombre == Null %}
            <p class="campoGeneroDocente col-sm-6">{{docente.user.genero}}</p>
            {% else %}
            <p class="campoGeneroDocente col-sm-6">{{docente.personal.user.genero}}</p>
            {% endif %}
          </div>
          <div class="rfcDocente row col-12">
            <p class="campo col-sm-6">RFC:</p>
            {% if docente.personal.user.nombre == Null %}
            <p class="campoRFCDocente col-sm-6">{{docente.user.idTec}}</p>
            {% else %}
            <p class="campoRFCDocente col-sm-6">{{docente.personal.user.idTec}}</p>
            {% endif %}
          </div>
        </div>
      </div>
      <div class="espacioDatosEscolares mt-2">
        <div class="titulo">
          <h3>Datos escolares</h3>
        </div>
        <div class="datos p-2">
          <div class="correoElectronicoDocente row col-12">
            <p class="campo col-sm-6">Correo electrónico:</p>
            {% if docente.personal.user.nombre == Null %}
            <p class="campoCorreoDocente col-sm-6">{{docente.user.email}}</p>
            {% else %}
            <p class="campoCorreoDocente col-sm-6">{{docente.personal.user.email}}</p>
            {% endif %}
          </div>
          <div class="departamentoDocente row col-12">
            <p class="campo col-sm-6">Departamento:</p>
            {% if docente.personal.user.nombre == Null %}
            <p class="campoDepartamentoDocente col-sm-6">{{docente.departamento.nombre}}</p>
            {% else %}
            <p class="campoDepartamentoDocente col-sm-6">{{docente.personal.departamento.nombre}}</p>
            {% endif %}
          </div>
          <div class="puesto row col-12">
            <p class="campo col-sm-6">Puesto:</p>
            {% if docente.personal.user.nombre == Null %}
            <p class="campoPuesto col-sm-6">{{docente.user.get_tipouser_display}}</p>
            {% else %}
            <p class="campoPuesto col-sm-6">{{docente.personal.user.get_tipouser_display}}</p>
            {% endif %}
          </div>
          <div class="gruposDocente row col-12">
            <p class="campo col-sm-6">Grupo(s):</p>
            <div class="campoGruposDocente col-sm-6 d-flex flex-column">
              {% for grupo in grupos %}
              <p class="grupoDocente">{{grupo.grupo.nombre}}</p>
              {% endfor %}
            </div>
          </div>
          <div class="telefonoDocente row col-12">
            <p class="campo col-sm-6">Télefono:</p>
            {% if docente.personal.user.nombre == Null %}
            <p class="campoTelefonoDocente col-sm-6">{{docente.user.telefono}}</p>
            {% else %}
            <p class="campoTelefonoDocente col-sm-6">{{docente.personal.user.telefono}}</p>
            {% endif %}
          </div>
          <div class="cubiculoDocente row col-12">
            <p class="campo col-sm-6">Cubículo:</p>
            {% if docente.personal.user.nombre == Null %}
            <p class="campoCubiculoDocente col-sm-6">{{docente.localizacion}} </p>
            {% else %}
            <p class="campoCubiculoDocente col-sm-6">{{docente.personal.localizacion}} </p>
            {% endif %}
          </div>
        </div>
      </div>
      <div class="espacioDatosDeContacto mt-2">
        <div class="titulo">
          <h3>Asignar</h3>
        </div>
        <div class="datos p-2">
          <div class="estado row col-12">
            <p class="campo col-sm-5">Asignar grupo:</p>
            <div class="col-sm-6 d-flex flex-wrap justify-content-around">
              <form method="post" class="d-flex">
                {% csrf_token %}
                {{form.grupos}}
                <button type="submit" class="btn btn-primary rounded-pill"
                  style="background-color: #010780;">Guardar</button>
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

{% include "includes/footer.html" %}
</div>

{% endblock content %}

<!-- Specific JS goes HERE -->
{% block javascripts %}

<script src="/static/assets/vendor/chart.js/dist/Chart.min.js"></script>
<script src="/static/assets/vendor/chart.js/dist/Chart.extension.js"></script>

{% endblock javascripts %}